<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>KALI KALI</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Don't use this in production: -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="./css/topbar.css">
    <link rel="icon" href="./favicon.ico">
</head>

<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;
        let checkLog = "";
        if (window.localStorage.getItem("logCheck") == undefined) {
            checkLog = "notLog";
        } else {
            checkLog = window.localStorage.getItem("logCheck");
        }
        const MemberCheck = () => {
            const [loginCheck, setLoginCheck] = useState(checkLog);
            if (loginCheck == "logAlready") {
                return <>
                    <a href="./member-log.html" target="_top">會員</a>
                    <ul className="member-box">
                        <li>
                            <a href="./memberinfo.html" target="_top">會員資料</a>
                        </li>
                        <li>
                            <a href="./pastorder.html" target="_top">訂單紀錄</a>
                        </li>
                        <li>
                            <a href="./member-log.html" className="logout" target="_top" onClick={() => {
                                window.alert("您已經登出");
                                setLoginCheck("notLog");
                                window.localStorage.setItem("logCheck", "notLog");
                            }}>會員登出</a>
                        </li>
                    </ul>
                </>
            } else if (loginCheck == "notLog") {
                return <>
                    <a href="./member-log.html" target="_top">會員</a>
                </>
            }
        }
        function MyApp() {

            return <>
                <header className="topbar">
                    <h1 className="logo">
                        <a href="./index.html" target="_top"><img src="./image/header-logo-KaliKali.png" alt="logo" /></a>
                    </h1>

                    <ul className="menu">
                        <li className="home"><a href="./index.html" target="_top">Home</a></li>
                        <li><a href="./news.html" target="_top">News</a></li>
                        <li><a href="./guided.html" target="_top">Brand & Culture</a></li>
                        <li><a href="./product.html" target="_top">Product</a></li>
                        <li className="rwd-s-n"><a href="./contact.html" target="_top">Contact / FAQ</a></li>
                        <li className="home rwd-s"><a href="./contact.html" target="_top">Contact<br />FAQ</a></li>
                    </ul>
                    <ul className="topbar-member">
                        <li className="member">
                            <MemberCheck />
                        </li>
                        <li><a href="./shoplist.html" target="_top">購物車</a></li>
                    </ul>
                </header>
            </>;
        }

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<MyApp />);
    </script>
    <!--
        Note: this page is a great way to try React but it's not suitable for production.
        It slowly compiles JSX with Babel in the browser and uses a large development build of React.

        Read this page for starting a new React project with JSX:
        https://react.dev/learn/start-a-new-react-project

        Read this page for adding React with JSX to an existing project:
        https://react.dev/learn/add-react-to-an-existing-project
    -->

</body>

</html>